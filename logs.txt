AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/unified_jobs/?unified_job_template=4373&launch_type=callback&order_by=-created" | jq '.count,.results[0]'
# Procura execuções por webhook
curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/unified_jobs/?unified_job_template=4373&launch_type=webhook&order_by=-created" | jq '.count,.results[0]'
0
null
0
null

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/jobs/$JOB_ID/activity_stream/?order_by=-timestamp" | jq '.results[] | {timestamp,actor,operation}
> ^C

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/unified_jobs/?unified_job_template=4373&launch_type=callback&order_by=-created" | jq '.count,.results[0]'
# Procura execuções por webhook
curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/unified_jobs/?unified_job_template=4373&launch_type=webhook&order_by=-created" | jq '.count,.results[0]'
# Troque $JOB_ID por um dos IDs (ex: 1006577)
curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/jobs/$JOB_ID/activity_stream/?order_by=-timestamp" | jq '.results[] | {timestamp,actor,operation}'
0
null
0
null
jq: error (at <stdin>:0): Cannot iterate over null (null)

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/job_templates/4373/access_list/?role_level=execute&page_size=200" | jq '.results[] | {type,username,name,summary_fields}'
jq: error (at <stdin>:0): Cannot iterate over null (null)

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN"   "$AWX_HOST/api/v2/job_templates/4373/access_list/?role_level=execute&page_size=200" | jq '.results[] | {type,username,name,summary_fields}'
jq: error (at <stdin>:0): Cannot iterate over null (null)

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN"   "$AWX_HOST/api/v2/job_templates/4373/access_list/?role_level=execute&page_size=200" | jq '.results[]? | {type,username,name,summary_fields}'

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN"   "$AWX_HOST/api/v2/unified_jobs/?unified_job_template=4373&launch_type=webhook&order_by=-created" | jq '.count,.results[0]'
0
null

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN"   "$AWX_HOST/api/v2/jobs/$JOB_ID/activity_stream/?order_by=-timestamp" | jq '.results[] | {timestamp,actor,operation}'
jq: error (at <stdin>:0): Cannot iterate over null (null)

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN"   "$AWX_HOST/api/v2/jobs/$JOB_ID/activity_stream/?order_by=-timestamp" | jq '.results[]? | {timestamp,actor,operation}'

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ ^[[200~curl -s -H "Authorization: Bearer $TOKEN" "$AWX_HOST/api/v2/users/?page_size=200" \
> | jq -r '.results[].id' | while read uid; do
>   curl -s -H "Authorization: Bearer $TOKEN" "$AWX_HOST/api/v2/users/$uid/tokens/?page_size=200" \
>   | jq --arg uid "$uid" '.results[] | {user_id:$uid, id, application, scope, created, modified, summary_fields}'
> curl -s -H "Authorization: Bearer $TOKEN"   "$AWX_HOST/api/v2/jobs/$JOB_ID/activity_stream/?order_by=-timestamp" | jq '.results[]? | {timestamp,actor,operation}'^C                                       
AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN" "$AWX_HOST/api/v2/users/?page_size=200" \
| jq -r '.results[].id' | while read uid; do
  curl -s -H "Authorization: Bearer $TOKEN" "$AWX_HOST/api/v2/users/$uid/tokens/?page_size=200" \
  | jq --arg uid "$uid" '.results[] | {user_id:$uid, id, application, scope, created, modified, summary_fields}'
done

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/projects/3869/schedules/" | jq '.results[] | {id,name,enabled,rrule,next_run}'
{
  "id": 37,
  "name": "deploy-lpft-daily-06-am",
  "enabled": true,
  "rrule": "DTSTART;TZID=America/Sao_Paulo:20250811T060000 RRULE:INTERVAL=1;FREQ=DAILY",
  "next_run": "2025-08-11T09:00:00Z"
}

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/inventories/2073/inventory_sources/" | jq '.results[] | {id,name,source,update_on_launch}'
{
  "id": 3591,
  "name": "AWS",
  "source": "scm",
  "update_on_launch": true
}

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/schedules/?inventory_source=<ID_DO_SOURCE>&enabled=true" | jq '.results[] | {id,name,rrule,next_run}'
curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/unified_jobs/?unified_job_template=4373&launch_type=workflow&order_by=-created" | jq '.count,.results[0]'
jq: error (at <stdin>:0): Cannot iterate over null (null)
0
null

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN"   "$AWX_HOST/api/v2/schedules/?inventory_source=<ID_DO_SOURCE>&enabled=true" | jq '.results[]? | {id,name,rrule,next_run}'

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN"   "$AWX_HOST/api/v2/schedules/?inventory_source=<ID_DO_SOURCE>&enabled=true"
{"detail":"Schedule has no field named 'inventory_source'"}
AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/job_templates/4373/callback/" | jq '.'
{
  "host_config_key": "2e5b6cd0-49d1-11ef-9454-0242ac120002",
  "matching_hosts": []
}

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/unified_jobs/?unified_job_template=4373&launch_type=callback&order_by=-created" | jq '.count'
0

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN" \
  "$AWX_HOST/api/v2/schedules/?inventory_source=1921&enabled=true" | jq '.results[] | {id,name,rrule,next_run}'
jq: error (at <stdin>:0): Cannot iterate over null (null)

AM+guimg@LPBR-WDW8AWEF MINGW64 ~
$ curl -s -H "Authorization: Bearer $TOKEN"   "$AWX_HOST/api/v2/schedules/?inventory_source=1921&enabled=true" | jq '.results[]? | {id,name,rrule,next_run}'
